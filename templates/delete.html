<!DOCTYPE html>
<html>

<head>
    <title>Test</title>
        <!-- Nav -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" integrity="" crossorigin="">
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-binoculars" viewBox="0 0 16 16">
                    <path d="M3 2.5A1.5 1.5 0 0 1 4.5 1h1A1.5 1.5 0 0 1 7 2.5V5h2V2.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5v2.382a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V14.5a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 14.5v-3a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5v3A1.5 1.5 0 0 1 5.5 16h-3A1.5 1.5 0 0 1 1 14.5V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V2.5zM4.5 2a.5.5 0 0 0-.5.5V3h2v-.5a.5.5 0 0 0-.5-.5h-1zM6 4H4v.882a1.5 1.5 0 0 1-.83 1.342l-.894.447A.5.5 0 0 0 2 7.118V13h4v-1.293l-.854-.853A.5.5 0 0 1 5 10.5v-1A1.5 1.5 0 0 1 6.5 8h3A1.5 1.5 0 0 1 11 9.5v1a.5.5 0 0 1-.146.354l-.854.853V13h4V7.118a.5.5 0 0 0-.276-.447l-.895-.447A1.5 1.5 0 0 1 12 4.882V4h-2v1.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V4zm4-1h2v-.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V3zm4 11h-4v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14zm-8 0H2v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14z"/>
                </svg>
            <a class="navbar-brand" href="#"> BIBLE SEARCH APP</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/">Search</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/add">Add</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/delete">Delete</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/dump">Dump</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/test">Test</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled">Disabled</a>
                </li>
                </ul>
            </div>
            </div>
        </nav>
        <!-- End Nav -->
</head>

<body>
    <div id="main-content" hidden>
        <h2>Delete Album</h2>
        {{ if .Success}}
        <p>Successfully deleted album: {{.Body}}</p>
        <p><input type="button" value="Delete Another" onclick="location.href='/delete'">&nbsp; <input type="button"
                value="Go Home" onclick="location.href='/'"></p>
        {{else}}
        <form method="POST" action="/delete">
            <label>Artist:</label>
            <select name="artist" id="artist">
                <option value="" selected>Select Artist</option>
                {{ range .Artists}}
                <option value="{{.}}">{{.}}</option>
                {{end}}
            </select>
            <label>Title:</label>
            {{range .MusicBy}}<p>{{.Name}}: {{range .Albums}}{{.}}{{end}}</p>{{end}}
            <textarea id="title" value="{{.}}">{{.}}</textarea>
            <!--   <select name="title" id="title">
                        <option value="">Select Title</option>
                        {{ range .Titles}}
                            <option value="{{.}}">{{.}}</option>
                        {{end}}
                    </select> -->


            <!--   <h3>MusicBy:</h3>
                    <div id="test" onload="processData(`{{.MusicBy}}`)">...</div>
                     -->
            <p><input type="submit" value="Delete"> &nbsp;<input type="button" value="Go Home"
                    onclick="location.href='/'">
        </form>
        {{end}}
    </div>
    <label>
        Choose an ice cream flavor:
        <select class="ice-cream" name="ice-cream">
            <option value="">Select One â€¦</option>
            <option value="chocolate">Chocolate</option>
            <option value="sardine">Sardine</option>
            <option value="vanilla">Vanilla</option>
        </select>
    </label>

    <div class="result"></div>
    <p>
        <label>Artist:</label>
        <select name="artist" id="artist" class="artist">
            <option value="" selected>Select Artist</option>
            {{ range .Artists}}
            <option value="{{.}}">{{.}}</option>
            {{end}}
        </select>
        <div class="artist-selected">
            <!-- <input class="artist-selected" type="text" name="artsel" id="artsel" value="hi"> -->
        </div>
    </p>
    <h3>Data:</h3>
    <div id="data">{{.MusicBy}}</div>
    <script>
        const data = document.querySelector('#data');
        console.log("DATA:", data)
        const selectElement = document.querySelector('.ice-cream');

        selectElement.addEventListener('change', (event) => {
            const result = document.querySelector('.result');
            result.textContent = `You Selected ${event.target.value}`;
            
        });
        //begin test
        // display this artists songs
        const selArtist = document.querySelector('.artist');
        selArtist.addEventListener('change', (event) => {
            const result = document.querySelector('.artist-selected');
            // result.textContent = event.target.value
            result.textContent = `Fetching albums by ${event.target.value}...`;
        });


        //end test
        //display this artists songs
        function processData(id) {
            //get data from {{.MusicBy}}
            document.getElementById(id).value
            //console.log("DATA: \n", data)
            console.log("log of Data...")
            for (d in data){
                console.log("datafied:",d)
            }
        };

        // Function to change the content of t2
        function modifyText() {
            const t2 = document.getElementById("t2");
            const isNodeThree = t2.firstChild.nodeValue === "Adele";
            t2.firstChild.nodeValue = isNodeThree ? "two" : "three";
        }

        // Add event listener to table
        const el = document.getElementById("artist");
        el.addEventListener("click", modifyText, false);
    </script>
    <footer>
        <p>&copy;Copyright 2030 by maina. All Rights Reserved.</p>
    </footer>
</body>

</html>